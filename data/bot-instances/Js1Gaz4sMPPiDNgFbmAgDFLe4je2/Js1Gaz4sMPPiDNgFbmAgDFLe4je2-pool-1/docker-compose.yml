version: '3.8'
services:
  freqtrade-pool:
    image: freqtrade-pool:latest
    container_name: freqtrade-pool-Js1Gaz4sMPPiDNgFbmAgDFLe4je2-pool-1
    restart: unless-stopped
    volumes:
      # Pool-level config and supervisor files (rw for dynamic bot configs)
      - /root/crypto-trading-platform/data/bot-instances/Js1Gaz4sMPPiDNgFbmAgDFLe4je2/Js1Gaz4sMPPiDNgFbmAgDFLe4je2-pool-1/supervisor:/pool/supervisor:rw
      - /root/crypto-trading-platform/data/bot-instances/Js1Gaz4sMPPiDNgFbmAgDFLe4je2/Js1Gaz4sMPPiDNgFbmAgDFLe4je2-pool-1/bots:/pool/bots:rw
      - /root/crypto-trading-platform/data/bot-instances/Js1Gaz4sMPPiDNgFbmAgDFLe4je2/Js1Gaz4sMPPiDNgFbmAgDFLe4je2-pool-1/logs:/pool/logs:rw
      # Shared strategies (read-only, same for all bots)
      - /root/Crypto-Pilot-Freqtrade/Admin Strategies:/pool/strategies:ro
      # Shared market data
      - /root/Crypto-Pilot-Freqtrade/freqtrade_shared_data:/freqtrade/shared_data:ro
    ports:
      - "9000:9000"
      - "9001:9001"
      - "9002:9002"
    environment:
      - POOL_ID=Js1Gaz4sMPPiDNgFbmAgDFLe4je2-pool-1
    healthcheck:
      test: ["CMD", "/usr/local/bin/healthcheck.sh"]
      interval: 30s
      timeout: 10s
      retries: 3
